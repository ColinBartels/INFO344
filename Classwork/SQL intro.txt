CREATE TABLE Students(
id INT NOT NULL,
name VARCHAR(31) NOT NULL
age INT NOT NULL,
PRIMARY KEY (id),
INDEX (name)
)ENGINE=INNODB;

INSERT INTO Students VALUES(1, 'Joe Chen', 31);
INSERT INTO Students VALUES(2, 'Patrick Shih', 28);
INSERT INTO Students VALUES(3, 'Amy Lin', 2);
INSERT INTO Students VALUES(4, 'Kenneth Shaw', 28);

SELECT * FROM Students;

SELECT * FROM Students
WHERE age = 31;

SELECT * FROM Students
WHERE age = 31 OR name = 'Amy Lin';

DELETE FROM Students
WHERE age = 31;

UPDATE Students
SET age=26
WHERE name = 'Amy Lin';

SELECT * FROM Students
ORDER BY name;

SELECT count(*) FROM Students;
SELECT sum(age) FROM Students;
SELECT avg(age) FROM Students;

SELECT age, count(*) FROM Students
GROUP BY age;

SELECT * FROM Students
WHERE name LIKE '%Chen';

CREATE TABLE Clubs(
studentId INT NOT NULL,
name VARCHAR(31),
PRIMARY KEY (studentId, name),
INDEX (name)
)ENGINE=INNODB;

INSERT INTO Clubs VALUES(2, 'Basketball');
INSERT INTO Clubs VALUES(4, 'Basketball');
INSERT INTO Clubs VALUES(2, 'Kayak');
INSERT INTO Clubs VALUES(3, 'Kayak');

SELECT * FROM Students
JOIN Clubs ON Students.id = Clubs.studentId
WHERE Clubs.name = 'Basketball';

CREATE TABLE Teacher(
id INT NOT NULL,
name VARCHAR(31) NOT NULL,
PRIMARY KEY (id),
INDEX (name)
)ENGINE=INNODB;

CREATE TABLE Class(
id INT NOT NULL,
name INT NOT NULL,
teacherId INT NOT NULL,
studentId INT NOT NULL,
PRIMARY KEY (id, studentId),
INDEX (name)
)ENGINE=INNODB;

INSERT INTO Teacher VALUES(1, 'ck');
INSERT INTO Class VALUES(1, 344, 1, 1);
INSERT INTO Class VALUES(1, 344, 1, 2);
INSERT INTO Class VALUES(2, 200, 1, 3);
INSERT INTO Class VALUES(2, 200, 1, 1);

SELECT * FROM Students
JOIN Class on Students.id = Class.studentId
WHERE Class.name = 344;

SELECT COUNT(*) FROM Teacher
JOIN Class ON Teacher.id = Class.teacherId
WHERE Teacher.id = 1;
